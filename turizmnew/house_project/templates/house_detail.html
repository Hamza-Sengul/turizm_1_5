<!-- templates/house_detail.html -->
{% extends 'base.html' %}

{% block content %}
  <div class="container py-4">
    <div class="row">
      <div class="col-lg-8">
        <!-- Image Gallery -->
        <div id="houseCarousel" class="carousel slide mb-4" data-ride="carousel">
          <ol class="carousel-indicators">
            {% for image in object.images.all %}
              <li data-target="#houseCarousel" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %}></li>
            {% endfor %}
          </ol>
          <div class="carousel-inner rounded">
            {% for image in object.images.all %}
              <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <img src="{{ image.image.url }}" class="d-block w-100" alt="{{ object.name }}" style="height: 500px; object-fit: cover;">
              </div>
            {% empty %}
              <div class="carousel-item active">
                <img src="https://via.placeholder.com/800x500?text=Resim+Yok" class="d-block w-100" alt="Resim Yok">
              </div>
            {% endfor %}
          </div>
          {% if object.images.all.count > 1 %}
            <a class="carousel-control-prev" href="#houseCarousel" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Önceki</span>
            </a>
            <a class="carousel-control-next" href="#houseCarousel" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Sonraki</span>
            </a>
          {% endif %}
        </div>
        
        <!-- House Details -->
        <div class="card mb-4">
          <div class="card-body">
            <h1 class="card-title h2">{{ object.name }}</h1>
            <p class="text-dark font-weight-bold h4 mb-3">{{ object.price }} TL / Gece</p>
            <div class="house-description">
              {{ object.description|linebreaks }}
            </div>
          </div>
        </div>

        <!-- Konaklama Bilgileri -->
       
      
      <!-- Sidebar -->
      <div class="col-lg-4">
        <!-- Reservation Form -->
        <div class="card mb-4">
          <div class="card-header bg-dark text-white">
            <h5 class="mb-0">Rezervasyon Yap</h5>
          </div>
          <div class="card-body">
            
              <div class="form-group">
                <label for="checkin-date">Giriş Tarihi</label>
                <input type="date" class="form-control" id="checkin-date" value="2025-03-17">
              </div>
              <div class="form-group">
                <label for="checkout-date">Çıkış Tarihi</label>
                <input type="date" class="form-control" id="checkout-date" value="2025-03-18">
              </div>
              <div class="form-group">
                <label for="guests-count">Misafir Sayısı</label>
                <input type="number" class="form-control" id="guests-count" value="2" min="1">
              </div>
              <a href="https://wa.me/905427898264">
              <button type="submit" class="btn btn-danger btn-block">Müsaitlik Sorgula</button>
              </a>
            
          </div>
        </div>

        <div class="card mb-4">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">Konaklama Bilgileri</h5>
            </div>
            <div class="card-body">
              <div class="row text-center">
                <div class="col-4 mb-3">
                  <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-calendar-alt fa-2x mb-2"></i>
                    <p class="mb-0">Haftasonu</p>
                    <p class="font-weight-bold">En Az 2 Gece</p>
                  </div>
                </div>
                <div class="col-4 mb-3">
                  <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-key fa-2x mb-2"></i>
                    <p class="mb-0">1 Oda</p>
                    <p class="font-weight-bold">Kiralık Bungalov</p>
                  </div>
                </div>
                <div class="col-4 mb-3">
                  <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-swimming-pool fa-2x mb-2"></i>
                    <p class="mb-0">Havuz Var</p>
                  </div>
                </div>
              </div>
              <div class="row text-center">
                <div class="col-4 mb-3">
                  <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-bed fa-2x mb-2"></i>
                    <p class="mb-0">1 Yatak</p>
                  </div>
                </div>
                <div class="col-4 mb-3">
                  <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-users fa-2x mb-2"></i>
                    <p class="mb-0">En Fazla 4 Kişi</p>
                  </div>
                </div>
                <div class="col-4 mb-3">
                  <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-bath fa-2x mb-2"></i>
                    <p class="mb-0">1 Banyo</p>
                  </div>
                </div>
              </div>
              <div class="mt-3">
                <p>Doğanın kucağında huzurlu bir tatil arıyorsanız, Sapanca'daki bungalovumuz tam size göre! Muhteşem göl manzarası ile çevrili, modern olanaklarla donatılmış bu bungalov, hem dinlenmek hem de eğlenceli anlar yaşamak isteyenler için ideal bir mekan.</p>
                <button class="btn btn-dark btn-sm">Küçült</button>
              </div>
            </div>
          </div>
          
          <!-- Özellikler -->
          <div class="card mb-4">
            <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
              <h5 class="mb-0">ÖZELLİKLER</h5>
              <button class="btn btn-link text-white p-0" type="button" data-toggle="collapse" data-target="#ozelliklerCollapse" aria-expanded="true" aria-controls="ozelliklerCollapse">
                <i class="fas fa-minus"></i>
              </button>
            </div>
            <div id="ozelliklerCollapse" class="collapse show">
              <div class="card-body p-0">
                <div class="p-3 bg-light">
                  <h6 class="font-weight-bold">Genel Özellikler</h6>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Ateş Çukuru</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Banyo-Duş</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Doğa Manzaralı</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Elektrikli Ocak</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Göl Manzaralı</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Göle Yakın</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Havuzlu</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Internet</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Kahvaltı</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Kahve Makinesi</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Mangal</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Mini Buzdolabı</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Mutfak Araç-Gereçleri</span>
                    <span class="text-muted">Var</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>Netflix</span>
                    <span class="text-muted">Var</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Contact Information -->
        <div class="card mb-4">
          <div class="card-header bg-info text-white">
            <h5 class="mb-0">İletişim</h5>
          </div>
          <div class="card-body">
            <p><i class="fas fa-phone mr-2"></i> 0541 670 9127</p>
            <p><i class="fas fa-envelope mr-2"></i> info@mypauzvillam.com</p>
            <a href="https://wa.me/905427898264" class="btn btn-success btn-block">
              <i class="fab fa-whatsapp mr-2"></i> WhatsApp ile İletişim
            </a>
          </div>
        </div>
      </div>
    </div>
    
    <div class="my-4">
      <a href="{% url 'home' %}" class="btn btn-outline-secondary">
        <i class="fas fa-arrow-left mr-2"></i> Tüm Villalara Dön
      </a>
    </div>
  </div>
{% endblock %}